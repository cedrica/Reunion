<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">



	<div class="row">
		<div class="row">
			<div class="col-md-6">
				<h:messages style="color:red" id="compareDate" />
			</div>
		</div>
		<h:form>
			<div class="col-md-6" style="overflow: scroll; height: 400px;">
				<table>
					<c:forEach var="membre" items="#{rondeBean.listeDesMembres}">

						<tr>
							<td><h:outputLabel style="margin-bottom:15px;"
									value="#{membre.nom} #{membre.prenom}" /></td>
							<td><h:inputText a:placeholder="cotisation"
									class="form-control input-small" id="ip_#{membre.id}_membre_co"
									style="margin-left:15px;margin-right:15px;margin-bottom:15px;"
									value="#{membre.trafique.cotisation}" /> <h:message
									for="ip_#{membre.id}_membre_co" style="color:red"
									id="ip_#{membre.id}_membre_coOut" /></td>
							<td><div class="input-group date"
									id="dateDeRemboursement_dp">
									<h:inputText id="ip_#{membre.id}_membre_dp"
										class="form-control input-small" required="true"
										value="#{membre.trafique.dateDeBouffe}"
										a:placeholder="Date de bouffe"
										style="margin-left:25px;margin-right:15px;margin-bottom:15px;">
										<f:convertDateTime pattern="MMM d, yyyy hh:mm:ss a"
											locale="us" />
									</h:inputText>
									<span class="input-group-addon"> <span
										class="fa fa-calendar"></span>
									</span>
								</div> <h:message for="ip_#{membre.id}_membre_dp" style="color:red"
									id="ip_#{membre.id}_membre_dbOut" /></td>
							<td>
								<div class="btn-toolbar">
									<div class="btn-group">
										<h:commandButton value="Ajouter" class="btn btn-primary"
											action="#{rondeBean.ajouter(membre)}"
											disabled="#{membre.inserable}"
											style="margin-left:35px;margin-bottom:15px;"
											id="ip_#{membre.id}_membre_btn">
											<f:ajax
												execute="ip_#{membre.id}_membre_co ip_#{membre.id}_membre_dp"
												render=":creerRonde ip_#{membre.id}_membre_coOut ip_#{membre.id}_membre_dbOut  ip_#{membre.id}_membre_en_btn @this" />
										</h:commandButton>
										<h:commandButton value="Enlever" class="btn btn-primary"
											action="#{rondeBean.enlever(membre)}"
											disabled="#{!membre.inserable}"
											id="ip_#{membre.id}_membre_en_btn"
											style="margin-bottom:15px;">
											<f:ajax execute=":creerRonde ip_#{membre.id}_membre_btn"
												render=":creerRonde  ip_#{membre.id}_membre_btn @this" />
										</h:commandButton>
									</div>
								</div>
							</td>
						</tr>
					</c:forEach>
				</table>
			</div>
		</h:form>
		<h:form id="creerRonde">
			<div class="col-md-6">

				<div class="row">
					<div class="col-md-3">
						<div style="margin: 5px;">
							<h:inputText class="form-control input-large"
								id="debutDeLaRonde_dp" style="margin-right:5px;"
								a:placeholder="Debut de la ronde" required="true"
								requiredMessage="Debut de la ronde obligatoire"
								value="#{rondeBean.ronde.debutDeLaRonde}">
								<f:convertDateTime pattern="dd/mm/yyyy" />
							</h:inputText>
							<h:message for="debutDeLaRonde_dp" style="color:red"
								id="debutDeLaRonde_dpOut" />
						</div>
					</div>
					<div class="col-md-3">
						<div style="margin: 5px;">

							<h:inputText class="form-control input-large"
								id="finDeLaRonde_dp" a:placeholder="fin de la ronde"
								required="true" requiredMessage="Fin de la ronde obligatoire"
								value="#{rondeBean.ronde.finDeLaRonde}">
								<f:convertDateTime pattern="dd/mm/yyyy" />
							</h:inputText>
							<h:message for="finDeLaRonde_dp" style="color:red"
								id="finDeLaRonde_dpOut" />
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-md-12">
						<h3>Liste des Membres selectioner</h3>
					</div>
					<h:selectOneListbox id="output"
						rendered="#{!empty rondeBean.membresDelaNouvelleRonde}"
						style="margin-left:15px;border-width:0">
						<f:selectItems value="#{rondeBean.membresDelaNouvelleRonde}"
							var="membre" itemLabel="#{membre.nom} #{membre.prenom}" />
					</h:selectOneListbox>
				</div>
				<div class="row">
					<div class="col-md-6">
						<h:commandButton id="save" value="Sauvegarder"
							class="btn btn-primary  pull-right"
							disabled="#{empty rondeBean.membresDelaNouvelleRonde}"
							action="#{rondeBean.sauvegarderLaRondeCreer()}">
							<f:ajax execute="@form" render="@form" />
						</h:commandButton>
						<h:commandButton value="Abbrechen"
							class="btn btn-default pull-right" immediate="true"
							action="#{rondeBean.setRondeCreable(false)}">
							<f:ajax execute="@form" render="@form" />
						</h:commandButton>
					</div>

				</div>
			</div>
		</h:form>
	</div>


</ui:composition>